---
import DocsLayout from '../../../layouts/DocsLayout.astro';
---

<DocsLayout
  title="Rate Limiter Configuration Options - hitlimit | Complete API Reference"
  description="Complete configuration reference for hitlimit rate limiter. All options for limit, window, key, store, skip, headers, and custom responses. Examples for Express, NestJS, and Bun."
  keywords="rate limit configuration, hitlimit options, rate limiter settings, api rate limit config, express rate limit options, nodejs rate limit configuration, middleware options, throttle settings"
>
  <h1>Configuration Options</h1>

  <p>Complete reference for all hitlimit configuration options.</p>

  <h2 id="basic-options">Basic Options</h2>

  <table class="options-table">
    <thead>
      <tr><th>Option</th><th>Type</th><th>Default</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td><code>limit</code></td><td>number</td><td>100</td><td>Maximum requests per window</td></tr>
      <tr><td><code>window</code></td><td>string | number</td><td>'1m'</td><td>Time window (e.g., '1m', '1h', '1d')</td></tr>
      <tr><td><code>key</code></td><td>function</td><td>req.ip</td><td>Function to extract rate limit key</td></tr>
      <tr><td><code>store</code></td><td>Store</td><td>memoryStore()</td><td>Storage backend</td></tr>
    </tbody>
  </table>

  <h2 id="advanced-options">Advanced Options</h2>

  <table class="options-table">
    <thead>
      <tr><th>Option</th><th>Type</th><th>Default</th><th>Description</th></tr>
    </thead>
    <tbody>
      <tr><td><code>skip</code></td><td>function</td><td>undefined</td><td>Skip rate limiting for certain requests</td></tr>
      <tr><td><code>headers</code></td><td>boolean</td><td>true</td><td>Include rate limit headers</td></tr>
      <tr><td><code>statusCode</code></td><td>number</td><td>429</td><td>HTTP status when rate limited</td></tr>
      <tr><td><code>response</code></td><td>object | function</td><td>-</td><td>Custom response body</td></tr>
    </tbody>
  </table>

  <h2 id="example">Full Example</h2>

  <div class="code-block">
    <pre><code><span class="fn">hitlimit</span>({"{"}
  limit: <span class="num">100</span>,
  window: <span class="str">'1m'</span>,
  key: (req) => req.headers[<span class="str">'x-api-key'</span>] || req.ip,
  store: <span class="fn">sqliteStore</span>({"{"} path: <span class="str">'./limits.db'</span> {"}"}),
  skip: (req) => req.path === <span class="str">'/health'</span>,
  headers: <span class="kw">true</span>,
  statusCode: <span class="num">429</span>,
  response: {"{"} error: <span class="str">'Too many requests'</span> {"}"}
{"}"})</code></pre>
  </div>
</DocsLayout>

<style>
  .options-table { width: 100%; margin: 1.5rem 0; border-collapse: collapse; border: 1px solid var(--color-border); border-radius: 0.75rem; overflow: hidden; }
  .options-table th { background: var(--color-bg-surface); text-align: left; padding: 0.75rem 1rem; font-size: 0.875rem; color: var(--color-text-muted); border-bottom: 1px solid var(--color-border); }
  .options-table td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--color-border); color: var(--color-text-secondary); }
  .options-table tr:last-child td { border-bottom: none; }
  .options-table code { background: var(--color-bg-elevated); color: var(--color-accent); padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.875em; }
  .code-block { margin: 1rem 0; border-radius: 0.75rem; border: 1px solid var(--color-border); background: var(--color-bg-surface); overflow: hidden; }
  .code-block pre { margin: 0; padding: 1rem; overflow-x: auto; font-family: var(--font-mono); font-size: 0.875rem; line-height: 1.7; }
  .code-block code { background: none !important; border: none !important; padding: 0 !important; }
  .kw { color: #c792ea; } .str { color: #a6e22e; } .num { color: #fd971f; } .fn { color: #66d9ef; }
</style>
