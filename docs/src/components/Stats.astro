---
// Real benchmarks from benchmarks/results/node-latest.md
const stats = [
  { value: '3M+', label: 'ops/sec', sublabel: 'memory store' },
  { value: '<1ms', label: 'Latency', sublabel: 'p95 response time' },
  { value: '0', label: 'Dependencies', sublabel: 'for core module' },
  { value: '100%', label: 'TypeScript', sublabel: 'fully typed' },
];

// Real benchmarks - honest numbers from actual tests
const benchmarks = [
  { store: 'Memory', throughput: '2-3M', latency: '~0.3μs', note: 'Fastest for high-traffic', color: 'cyan' },
  { store: 'SQLite', throughput: '400K', latency: '~2.5μs', note: 'Persistent storage', color: 'purple' },
  { store: 'Redis', throughput: '6.7K', latency: '~150μs', note: 'Distributed systems', color: 'cyan' },
];
---

<section class="py-24 px-4 border-t border-[var(--color-border)]">
  <div class="max-w-7xl mx-auto">
    <!-- Stats -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-8 mb-24">
      {stats.map((stat) => (
        <div class="text-center">
          <div class="text-4xl sm:text-5xl font-black gradient-text mb-2">{stat.value}</div>
          <div class="text-lg font-semibold text-white mb-1">{stat.label}</div>
          <div class="text-sm text-[var(--color-text-muted)]">{stat.sublabel}</div>
        </div>
      ))}
    </div>

    <!-- Benchmark section -->
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">
          Real <span class="gradient-text">benchmarks</span>
        </h2>
        <p class="text-lg text-[var(--color-text-secondary)]">
          Tested on Apple M2. <a href="/docs/benchmarks" class="text-[var(--color-accent)] hover:underline">Run them yourself →</a>
        </p>
      </div>

      <!-- Benchmark table -->
      <div class="rounded-2xl border border-[var(--color-border)] bg-[var(--color-bg-surface)] overflow-hidden">
        <!-- Header -->
        <div class="grid grid-cols-4 gap-4 p-6 bg-[var(--color-bg-elevated)] border-b border-[var(--color-border)]">
          <div class="text-sm font-semibold text-[var(--color-text-muted)] uppercase tracking-wider">Store</div>
          <div class="text-sm font-semibold text-[var(--color-text-muted)] uppercase tracking-wider text-center">Throughput</div>
          <div class="text-sm font-semibold text-[var(--color-text-muted)] uppercase tracking-wider text-center">Latency</div>
          <div class="text-sm font-semibold text-[var(--color-text-muted)] uppercase tracking-wider text-right">Best For</div>
        </div>

        <!-- Rows -->
        {benchmarks.map((bench, i) => (
          <div class={`grid grid-cols-4 gap-4 p-6 ${i !== benchmarks.length - 1 ? 'border-b border-[var(--color-border)]' : ''} transition-colors duration-200 hover:bg-[var(--color-bg-elevated)]`}>
            <div class="flex items-center gap-3">
              <div class={`w-3 h-3 rounded-full ${bench.color === 'cyan' ? 'bg-[var(--color-accent)]' : 'bg-[var(--color-accent-secondary)]'}`}></div>
              <span class="font-medium text-white">{bench.store}</span>
            </div>
            <div class="text-center">
              <span class="font-mono font-bold text-white">{bench.throughput}</span>
              <span class="text-[var(--color-text-muted)]"> ops/s</span>
            </div>
            <div class="text-center">
              <span class="font-mono font-bold text-white">{bench.latency}</span>
            </div>
            <div class="text-right text-sm text-[var(--color-text-muted)]">
              {bench.note}
            </div>
          </div>
        ))}
      </div>

      <p class="text-center text-sm text-[var(--color-text-muted)] mt-4">
        Redis throughput is network-bound (~150μs round-trip). Memory and SQLite run in-process.
      </p>
    </div>
  </div>
</section>
